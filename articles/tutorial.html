<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="multibiasmeta">
<title>Metabias packages tutorial • multibiasmeta</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Metabias packages tutorial">
<meta property="og:description" content="multibiasmeta">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">multibiasmeta</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tutorial.html">Metabias packages tutorial</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mathurlabstanford/multibiasmeta/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Metabias packages tutorial</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mathurlabstanford/multibiasmeta/blob/HEAD/vignettes/tutorial.Rmd" class="external-link"><code>vignettes/tutorial.Rmd</code></a></small>
      <div class="d-none name"><code>tutorial.Rmd</code></div>
    </div>

    
    
<p>This is a tutorial on how to use the packages
<code>PublicationBias</code>, <code>phacking</code>, and
<code>multibiasmeta</code>. Each package provides functions to conduct
two types of sensitivity analysis:</p>
<ol style="list-style-type: decimal">
<li>A meta-analysis that is corrected for one or more within-study or
across-study biases, for user-specified sensitivity parameters:
<code><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">PublicationBias::pubbias_meta()</a></code>,
<code><a href="https://rdrr.io/pkg/phacking/man/phacking_meta.html" class="external-link">phacking::phacking_meta()</a></code>,
<code><a href="../reference/multibias_meta.html">multibiasmeta::multibias_meta()</a></code>
</li>
<li>The minimum severity of the bias under consideration that would be
required to “explain away” the results of the meta-analysis:
<code><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_svalue.html" class="external-link">PublicationBias::svalue()</a></code>,
<code>multibiasmeta::evalue()</code>
</li>
</ol>
<p>Each of these functions returns an object of class
<code>metabias</code>, which consists of a list with four elements:
<code>data</code>, <code>values</code>, <code>stats</code>,
<code>fits</code>.</p>
<ul>
<li>
<code>data</code>: Dataframe containing data used to fit the
model(s), with added columns for any values computed during model
fitting.</li>
<li>
<code>values</code>: List of values of arguments passed to the
function.</li>
<li>
<code>stats</code>: Dataframe of summary statistics from the model
fit(s).</li>
<li>
<code>fits</code>: List of fitted objects (which have a class that
depends on the underlying fitting methods,
e.g. <code><a href="https://rdrr.io/pkg/robumeta/man/robu.html" class="external-link">robumeta::robu</a></code> or <code><a href="https://mc-stan.org/rstan/reference/stanfit-class.html" class="external-link">rstan::stanfit</a></code>).</li>
</ul>
<p>This vignette goes through examples of how to use each of these
functions.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mayamathur/PublicationBias" class="external-link">PublicationBias</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mikabr/phacking" class="external-link">phacking</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mathurlabstanford/multibiasmeta" class="external-link">multibiasmeta</a></span><span class="op">)</span></span></code></pre></div>
<p>The example dataset <code>meta_meat</code> is from a meta-analysis
that assessed the effectiveness of educational behavior interventions
that attempt to reduce meat consumption by appealing to animal welfare
(<a href="https://osf.io/bc2wy/" class="external-link">Mathur et al, 2021</a>). The
meta-analysis included 100 studies (from 34 articles) that measured
behavioral or self-reported outcomes related to meat consumption or
purchasing. Point estimates (<code>yi</code>) are on the log relative
risk (RR) scale. The variable <code>cluster</code> corresponds to the
paper that contributed the point estimate, and <code>randomized</code>
is a boolean indicating whether the study was randomized.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta_meat</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 100 × 4</span></span></span>
<span><span class="co">#&gt;          yi      vi cluster        randomized</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> -<span style="color: #BB0000;">0.388</span>   0.114   ACE 2013a      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.001<span style="text-decoration: underline;">43</span> 0.008<span style="text-decoration: underline;">18</span> ACE 2013a      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> -<span style="color: #BB0000;">0.077</span><span style="color: #BB0000; text-decoration: underline;">8</span>  0.015<span style="text-decoration: underline;">6</span>  ACE 2013b      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.395   0.056<span style="text-decoration: underline;">7</span>  Amiot 2018     TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.109   0.006   Anderson 2016  TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  0.071<span style="text-decoration: underline;">1</span>  0.001<span style="text-decoration: underline;">10</span> Anderson 2017  TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  0.177   0.006<span style="text-decoration: underline;">29</span> Anderson 2017  TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  0.123   0.016<span style="text-decoration: underline;">1</span>  Bertolaso 2015 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  0.310   0.016<span style="text-decoration: underline;">9</span>  Bertolaso 2015 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  0.229   0.015<span style="text-decoration: underline;">4</span>  Bertolaso 2015 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 90 more rows</span></span></span></code></pre></div>
<p>We will first conduct a standard meta-analysis point estimate from a
fixed-effects meta-analysis, ignoring heterogeneity and clustering.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">metafor</span><span class="fu">::</span><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data <span class="op">=</span> <span class="va">meta_meat</span>, method <span class="op">=</span> <span class="st">"FE"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Fixed-Effects Model (k = 100)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; I^2 (total heterogeneity / total variability):   76.18%</span></span>
<span><span class="co">#&gt; H^2 (total variability / sampling variability):  4.20</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Test for Heterogeneity:</span></span>
<span><span class="co">#&gt; Q(df = 99) = 415.5315, p-val &lt; .0001</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; estimate      se     zval    pval   ci.lb   ci.ub      </span></span>
<span><span class="co">#&gt;   0.2004  0.0117  17.0885  &lt;.0001  0.1774  0.2234  *** </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
<p>Now we will conduct a robust random-effects meta-analysis that
accounts for heterogeneity and clustering, but still is not corrected
for any potential biases.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">robumeta</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/robumeta/man/robu.html" class="external-link">robu</a></span><span class="op">(</span><span class="va">yi</span> <span class="op">~</span> <span class="fl">1</span>, data <span class="op">=</span> <span class="va">meta_meat</span>, studynum <span class="op">=</span> <span class="va">cluster</span>, var.eff.size <span class="op">=</span> <span class="va">vi</span><span class="op">)</span></span>
<span><span class="co">#&gt; RVE: Correlated Effects Model with Small-Sample Corrections </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model: yi ~ 1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of studies = 34 </span></span>
<span><span class="co">#&gt; Number of outcomes = 100 (min = 1 , mean = 2.94 , median = 2 , max = 17 )</span></span>
<span><span class="co">#&gt; Rho = 0.8 </span></span>
<span><span class="co">#&gt; I.sq = 68.59531 </span></span>
<span><span class="co">#&gt; Tau.sq = 0.02858774 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                Estimate StdErr t-value  dfs  P(|t|&gt;) 95% CI.L 95% CI.U Sig</span></span>
<span><span class="co">#&gt; 1 X.Intercept.    0.164 0.0398    4.11 27.6 0.000317   0.0822    0.245 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes: &lt; .01 *** &lt; .05 ** &lt; .10 *</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Note: If df &lt; 4, do not trust the results</span></span></code></pre></div>
<div class="section level2">
<h2 id="publication-bias">Publication bias<a class="anchor" aria-label="anchor" href="#publication-bias"></a>
</h2>
<p>The <code>pubbias</code> functions conduct sensitivity analyses for
publication bias in which affirmative studies (i.e., those with
statistically significant estimates in the desired direction) are more
likely to be published than nonaffirmative studies (i.e., those with
nonsignificant estimates or estimates in the undesired direction) by a
certain ratio, called selection_ratio (<a href="https://osf.io/s9dp6/" class="external-link">Mathur &amp; VanderWeele, 2020</a>). To
provide intuition, suppose we knew that affirmative studies were twice
as likely to be published as nonaffirmative studies. We could then
correct the meta-analytic estimate by having each <em>published</em>
nonaffirmative study contribute twice as much weight to the analysis as
each affirmative study, which would counteract the publication process’
two-fold favoring of affirmative studies. This idea is similar to
familiar procedures used to correct survey samples for nonrepresentative
sampling.</p>
<p>However, in practice, we do not know exactly how severe publication
bias is. In this case, we can instead conduct sensitivity analyses that
describe the severity of publication bias (i.e., the selection_ratio)
that would be required to explain away the results of the meta-analysis
(e.g., to shift the point estimate to the null).</p>
<div class="section level3">
<h3 id="correcting-for-publication-bias">Correcting for publication bias<a class="anchor" aria-label="anchor" href="#correcting-for-publication-bias"></a>
</h3>
<p>For a chosen ratio of publication probabilities,
<code>selection_ratio</code>, we can estimate a publication
bias-corrected pooled point estimate and confidence interval per <a href="https://osf.io/s9dp6/" class="external-link">Mathur &amp; VanderWeele (2020)</a>. Model
options include fixed-effects (a.k.a. “common-effect”), robust
independent, and robust clustered specifications.</p>
<p>Since a selection ratio of 1 corresponds to no publication bias
(i.e., affirmative and nonaffirmative studies are equally likely to be
published), passing <code>selection_ratio = 1</code> recovers the
uncorrected, fixed-effects point estimate that we obtained above.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubbias_meat_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">pubbias_meta</a></span><span class="op">(</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               model_type <span class="op">=</span> <span class="st">"fixed"</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">pubbias_meat_1</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 6</span></span></span>
<span><span class="co">#&gt;   model   estimate     se ci_lower ci_upper p_value</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> pubbias    0.200 0.011<span style="text-decoration: underline;">7</span>    0.177    0.224       0</span></span></code></pre></div>
<p>To consider publication bias, we can choose a value of
<code>selection_ratio</code> that is greater than 1. For example, we
will consider publication bias such that affirmative results are 4 times
more likely to be published than nonaffirmative results.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubbias_meat_4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">pubbias_meta</a></span><span class="op">(</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               model_type <span class="op">=</span> <span class="st">"fixed"</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="va">sr</span><span class="op">)</span></span>
<span><span class="va">pubbias_meat_4</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 6</span></span></span>
<span><span class="co">#&gt;   model   estimate     se ci_lower ci_upper  p_value</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> pubbias    0.120 0.013<span style="text-decoration: underline;">6</span>   0.093<span style="text-decoration: underline;">1</span>    0.147 4.13<span style="color: #949494;">e</span><span style="color: #BB0000;">-14</span></span></span></code></pre></div>
<p>This fixed-effects meta-analysis indicates that if affirmative (i.e.,
significant and positive) studies were 4 times more likely to be
published than nonaffirmative (i.e., nonsignificant or negative)
studies, the meta-analytic point estimate corrected for publication bias
would be 0.12 (95% CI [0.09, 0.15]).</p>
<p>Now we will use the same selection ratio, but will use the robust
random-effects specification to account for heterogeneity and for
clustering of point estimates within papers (which is the default
behavior of <code><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">pubbias_meta()</a></code>).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubbias_meat_4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">pubbias_meta</a></span><span class="op">(</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               cluster <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">cluster</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">pubbias_meat_4</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt;     model  estimate         se   ci_lower  ci_upper      p_value</span></span>
<span><span class="co">#&gt; 1 pubbias 0.1293691 0.03194793 0.06212993 0.1966083 0.0007856887</span></span></code></pre></div>
<p>This random-effects meta-analysis indicates that, if affirmative
(i.e., significant and positive) studies were 4 times more likely to be
published than nonaffirmative (i.e., nonsignificant or negative)
studies, the meta-analytic point estimate corrected for publication bias
would be 0.13 (95% CI [0.06, 0.20]).</p>
<p><code>pubbias_meta</code> has a number of arguments that can be used
to change the model of publication bias. By default,
<code>pubbias_meta</code> assumes that publication bias favors
positive-signed, significant results, but in some contexts publication
bias might instead favor negative-signed, significant results (e.g., if
investigators wish to show that a treatment has a protective effect on a
detrimental outcome). In such cases, you should pass
<code>favor_positive = FALSE</code>.</p>
<p>Also, the function by default assumes that publication bias
considered a one-tailed model of publication bias in which significant
results with positive point estimates are favored, while significant
results with negative point estimates and nonsignificant results are
equally disfavored. In some contexts, it is possible instead that
significant results are favored regardless of direction, while only
nonsignificant results are disfavored (called “two-tailed” selection).
We recommend by default conducting sensitivity analyses that assume
one-tailed selection because this is more statistically conservative,
but you can also assess two-tailed selection using the argument
<code>selection_tails</code>.</p>
<p>Finally, the function by default assumes that results are treated as
significant at α = 0.05. To change this threshold at which publication
bias is assumed to operate, you can use the argument
<code>alpha_select</code>.</p>
</div>
<div class="section level3">
<h3 id="worst-case-meta-analysis">Worst-case meta-analysis<a class="anchor" aria-label="anchor" href="#worst-case-meta-analysis"></a>
</h3>
<p>As a limiting case, we can conduct a meta-analysis of nonaffirmative
results (MAN) that accounts for worst-case publication bias. That is, if
affirmative studies were infinitely more likely to be published than
nonaffirmative studies, we could obtain a corrected estimate by having
nonaffirmative studies contribute infinitely more weight to the analysis
than affirmative studies. This in fact corresponds to retaining only the
nonaffirmative studies in analysis. Unlike standard publication bias
methods, MAN can help assess robustness to other forms of selective
reporting besides publication bias. In particular, MAN accommodates
situations in which investigators manipulate or selectively report
results <em>within</em> studies, called “<em>p</em>-hacking” (<a href="https://osf.io/ezjsx/" class="external-link">Mathur, 2022</a>).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubbias_meat_4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">pubbias_meta</a></span><span class="op">(</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               cluster <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">cluster</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                               return_worst_meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pubbias_meat_4</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt;        model  estimate         se   ci_lower  ci_upper      p_value</span></span>
<span><span class="co">#&gt; 1    pubbias 0.1293691 0.03194793 0.06212993 0.1966083 0.0007856887</span></span>
<span><span class="co">#&gt; 2 worst_case 0.0931093 0.03049443 0.02865793 0.1575607 0.0073343486</span></span></code></pre></div>
<p>If there were worst-case publication bias (i.e., that favors
affirmative results infinitely more than nonaffirmative results), the
corrected meta-analytic point estimate would be 0.09 (95% CI [0.03,
0.16]).</p>
</div>
<div class="section level3">
<h3 id="publication-bias-required-to-explain-away-the-results">Publication bias required to explain away the results<a class="anchor" aria-label="anchor" href="#publication-bias-required-to-explain-away-the-results"></a>
</h3>
<p>We can also calculate the S-value, defined as the severity of
publication bias (i.e., the ratio by which affirmative studies are more
likely to be published than nonaffirmative studies) that would be
required to shift the pooled point estimate or its confidence interval
limit to the null, or to any other value <code>q</code> (which defaults
to 0, the null).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">svalue_meat_0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_svalue.html" class="external-link">pubbias_svalue</a></span><span class="op">(</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                                <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                                cluster <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span>
<span><span class="va">svalue_meat_0</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   sval_est     sval_ci     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Not possible Not possible</span></span></code></pre></div>
<p>These results indicate that, under this model of publication bias,
there is no amount of publication bias that would shift the point
estimate to 0. In fact, there is also no amount of publication bias that
would shift the CI bound to 0.</p>
<p>Now we will consider the severity of publication bias required to
shift the point estimate or its CI bound to <code>q = 0.1</code> rather
than to the null.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">svalue_meat_01</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_svalue.html" class="external-link">pubbias_svalue</a></span><span class="op">(</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                                 <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                                 cluster <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">cluster</span>,</span>
<span>                                 q <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="va">svalue_meat_01</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   sval_est sval_ci</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     23.2    1.48</span></span></code></pre></div>
<p>These results indicate that, for the point estimate corrected for
publication bias to shift to 0.10, affirmative studies would need to be
23.19 times more likely to be published than nonaffirmative studies.
Additionally, for the CI bound corrected for publication bias to shift
to 0.10, affirmative studies would need to be 1.48 times more likely to
be published than nonaffirmative studies.</p>
<p>In general, if the S-value is small enough that it represents a
plausible amount of publication bias (see the empirical benchmarks
provided in (<a href="https://osf.io/p3xyd/" class="external-link">Mathur &amp; VanderWeele,
2019</a>), then the meta-analysis may be considered relatively sensitive
to publication bias. In contrast, if the S-value represents an
implausibly large amount of publication bias, then one might consider
the meta-analysis to be relatively robust. These methods can sometimes
indicate that no amount of publication bias under the assumed model
could “explain away” the results of a meta-analysis, providing a
compelling argument for robustness.</p>
</div>
<div class="section level3">
<h3 id="significance-funnel-plot">Significance funnel plot<a class="anchor" aria-label="anchor" href="#significance-funnel-plot"></a>
</h3>
<p>As a visual supplement to the proposed sensitivity analyses, we
suggest presenting a modified funnel plot called the “significance
funnel plot”. This plot distinguishes between affirmative and
nonaffirmative studies, helping to detect the extent to which the
nonaffirmative studies’ point estimates are systematically smaller than
the entire set of point estimates. The estimate among only
nonaffirmative studies (gray diamond) represents a corrected estimate
under worst-case publication bias. If the gray diamond represents a
negligible effect size or if it is much smaller than the pooled estimate
among all studies (black diamond), this suggests that the meta-analysis
may not be robust to extreme publication bias. Numerical sensitivity
analyses (via <code><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_svalue.html" class="external-link">pubbias_svalue()</a></code> or
<code><a href="https://rdrr.io/pkg/PublicationBias/man/pubbias_meta.html" class="external-link">pubbias_meta()</a></code>) should still be carried out for more
precise quantitative conclusions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/PublicationBias/man/significance_funnel.html" class="external-link">significance_funnel</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>, vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/significance_funnel-1.png" width="576"></p>
</div>
</div>
<div class="section level2">
<h2 id="p-hacking">
<em>p</em>-hacking<a class="anchor" aria-label="anchor" href="#p-hacking"></a>
</h2>
<p>Publication bias, as assessed by standard methods, corresponds to a
selection process that filters which studies are published and available
for inclusion in meta-analysis. However, there can also be selective
reporting <em>within</em> studies. For example, investigators may
“<em>p</em>-hack” by analyzing multiple outcomes and reporting only
affirmative results among these analyses, or by fitting multiple models
to the same dataset in an attempt to obtain an affirmative estimate.
Standard methods for publication bias can be biased in either direction
when there is <em>p</em>-hacking (<a href="https://osf.io/ezjsx/" class="external-link">Mathur, 2022</a>). However, meta-analysis
of nonaffirmative results (MAN, described above) MAN still provides a
conservative estimate (i.e., biased toward the null) if there is
<em>p</em>-hacking that favors affirmative results (<a href="https://osf.io/ezjsx/" class="external-link">Mathur, 2022</a>).</p>
<p>Additional sensitivity analyses for joint publication bias and
<em>p</em>-hacking can be conducted. Assuming that published, hacked
studies never have nonaffirmative estimates (e.g., their investigators
<em>p</em>-hack until they obtain an affirmative estimate), we propose
estimating the underlying meta-analytic mean by fitting “right-truncated
meta-analysis” (RTMA) to the published nonaffirmative estimates, which
are unhacked.</p>
<p>Unlike the other packages, the <code>phacking</code> package uses <a href="https://mc-stan.org/" class="external-link">Stan</a> to fit models and as such requires
Stan and <a href="http://mc-stan.org/rstan/index.html" class="external-link">RStan</a> to be
installed.</p>
<div class="section level3">
<h3 id="correction-for-p-hacking">Correction for <em>p</em>-hacking<a class="anchor" aria-label="anchor" href="#correction-for-p-hacking"></a>
</h3>
<p>The function <code><a href="https://rdrr.io/pkg/phacking/man/phacking_meta.html" class="external-link">phacking_meta()</a></code> fits right-truncated
meta-analysis (RTMA), a bias correction for the joint effects of
<em>p</em>-hacking (i.e., manipulation of results within studies to
obtain significant, positive estimates) and traditional publication bias
(i.e., the selective publication of studies with significant, positive
results) in meta-analyses.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phacking_meat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/phacking/man/phacking_meta.html" class="external-link">phacking_meta</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>, vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>, parallelize <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLING FOR MODEL 'phacking_rtma' NOW (CHAIN 1).</span></span>
<span><span class="co">#&gt; Chain 1: </span></span>
<span><span class="co">#&gt; Chain 1: Gradient evaluation took 0.000306 seconds</span></span>
<span><span class="co">#&gt; Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 3.06 seconds.</span></span>
<span><span class="co">#&gt; Chain 1: Adjust your expectations accordingly!</span></span>
<span><span class="co">#&gt; Chain 1: </span></span>
<span><span class="co">#&gt; Chain 1: </span></span>
<span><span class="co">#&gt; Chain 1: Iteration:    1 / 2000 [  0%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration:  200 / 2000 [ 10%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration:  400 / 2000 [ 20%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration:  600 / 2000 [ 30%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration:  800 / 2000 [ 40%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 1000 / 2000 [ 50%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 1001 / 2000 [ 50%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 1200 / 2000 [ 60%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 1400 / 2000 [ 70%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 1600 / 2000 [ 80%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 1800 / 2000 [ 90%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1: Iteration: 2000 / 2000 [100%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1: </span></span>
<span><span class="co">#&gt; Chain 1:  Elapsed Time: 1.91457 seconds (Warm-up)</span></span>
<span><span class="co">#&gt; Chain 1:                1.81907 seconds (Sampling)</span></span>
<span><span class="co">#&gt; Chain 1:                3.73364 seconds (Total)</span></span>
<span><span class="co">#&gt; Chain 1: </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLING FOR MODEL 'phacking_rtma' NOW (CHAIN 2).</span></span>
<span><span class="co">#&gt; Chain 2: </span></span>
<span><span class="co">#&gt; Chain 2: Gradient evaluation took 0.00013 seconds</span></span>
<span><span class="co">#&gt; Chain 2: 1000 transitions using 10 leapfrog steps per transition would take 1.3 seconds.</span></span>
<span><span class="co">#&gt; Chain 2: Adjust your expectations accordingly!</span></span>
<span><span class="co">#&gt; Chain 2: </span></span>
<span><span class="co">#&gt; Chain 2: </span></span>
<span><span class="co">#&gt; Chain 2: Iteration:    1 / 2000 [  0%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration:  200 / 2000 [ 10%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration:  400 / 2000 [ 20%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration:  600 / 2000 [ 30%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration:  800 / 2000 [ 40%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 1000 / 2000 [ 50%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 1001 / 2000 [ 50%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 1200 / 2000 [ 60%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 1400 / 2000 [ 70%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 1600 / 2000 [ 80%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 1800 / 2000 [ 90%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2: Iteration: 2000 / 2000 [100%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2: </span></span>
<span><span class="co">#&gt; Chain 2:  Elapsed Time: 1.97875 seconds (Warm-up)</span></span>
<span><span class="co">#&gt; Chain 2:                1.52932 seconds (Sampling)</span></span>
<span><span class="co">#&gt; Chain 2:                3.50807 seconds (Total)</span></span>
<span><span class="co">#&gt; Chain 2: </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLING FOR MODEL 'phacking_rtma' NOW (CHAIN 3).</span></span>
<span><span class="co">#&gt; Chain 3: </span></span>
<span><span class="co">#&gt; Chain 3: Gradient evaluation took 0.000126 seconds</span></span>
<span><span class="co">#&gt; Chain 3: 1000 transitions using 10 leapfrog steps per transition would take 1.26 seconds.</span></span>
<span><span class="co">#&gt; Chain 3: Adjust your expectations accordingly!</span></span>
<span><span class="co">#&gt; Chain 3: </span></span>
<span><span class="co">#&gt; Chain 3: </span></span>
<span><span class="co">#&gt; Chain 3: Iteration:    1 / 2000 [  0%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration:  200 / 2000 [ 10%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration:  400 / 2000 [ 20%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration:  600 / 2000 [ 30%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration:  800 / 2000 [ 40%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 1000 / 2000 [ 50%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 1001 / 2000 [ 50%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 1200 / 2000 [ 60%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 1400 / 2000 [ 70%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 1600 / 2000 [ 80%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 1800 / 2000 [ 90%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3: Iteration: 2000 / 2000 [100%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3: </span></span>
<span><span class="co">#&gt; Chain 3:  Elapsed Time: 2.10843 seconds (Warm-up)</span></span>
<span><span class="co">#&gt; Chain 3:                2.00997 seconds (Sampling)</span></span>
<span><span class="co">#&gt; Chain 3:                4.1184 seconds (Total)</span></span>
<span><span class="co">#&gt; Chain 3: </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; SAMPLING FOR MODEL 'phacking_rtma' NOW (CHAIN 4).</span></span>
<span><span class="co">#&gt; Chain 4: </span></span>
<span><span class="co">#&gt; Chain 4: Gradient evaluation took 0.000122 seconds</span></span>
<span><span class="co">#&gt; Chain 4: 1000 transitions using 10 leapfrog steps per transition would take 1.22 seconds.</span></span>
<span><span class="co">#&gt; Chain 4: Adjust your expectations accordingly!</span></span>
<span><span class="co">#&gt; Chain 4: </span></span>
<span><span class="co">#&gt; Chain 4: </span></span>
<span><span class="co">#&gt; Chain 4: Iteration:    1 / 2000 [  0%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration:  200 / 2000 [ 10%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration:  400 / 2000 [ 20%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration:  600 / 2000 [ 30%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration:  800 / 2000 [ 40%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 1000 / 2000 [ 50%]  (Warmup)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 1001 / 2000 [ 50%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 1200 / 2000 [ 60%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 1400 / 2000 [ 70%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 1600 / 2000 [ 80%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 1800 / 2000 [ 90%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4: Iteration: 2000 / 2000 [100%]  (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4: </span></span>
<span><span class="co">#&gt; Chain 4:  Elapsed Time: 1.82281 seconds (Warm-up)</span></span>
<span><span class="co">#&gt; Chain 4:                1.61759 seconds (Sampling)</span></span>
<span><span class="co">#&gt; Chain 4:                3.4404 seconds (Total)</span></span>
<span><span class="co">#&gt; Chain 4:</span></span>
<span></span>
<span><span class="va">phacking_meat</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 9</span></span></span>
<span><span class="co">#&gt;   param  mode median  mean      se ci_lower ci_upper n_eff r_hat</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> mu    0.209  0.273 0.294 0.005<span style="text-decoration: underline;">13</span>   0.104     0.637  724.  1.00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> tau   0.142  0.187 0.189 0.002<span style="text-decoration: underline;">86</span>   0.044<span style="text-decoration: underline;">7</span>    0.359  782.  1.00</span></span></code></pre></div>
<p>In these results, <code>mode</code>, <code>median</code>, and
<code>mean</code> represent posterior modes, medians, and means
respectively. We recommend reporting the mode (<a href="https://osf.io/ezjsx/" class="external-link">Mathur, 2022</a>). These results indicate
that, accounting for potential <em>p</em>-hacking and publication bias
that favor affirmative results, the estimated meta-analytic mean,
<code>mu</code>, is 0.21 and the estimated standard deviation of the
effects (i.e., heterogeneity), <code>tau</code>, is 0.14.</p>
</div>
<div class="section level3">
<h3 id="diagnostic-plots">Diagnostic plots<a class="anchor" aria-label="anchor" href="#diagnostic-plots"></a>
</h3>
<p>To assess the fit of right-truncated meta-analysis and possible
violations of its distributional assumptions, we can plot the fitted
cumulative distribution function (CDF) of the published nonaffirmative
estimates versus their empirical CDF. If the points do not adhere fairly
closely to a 45-degree line, the right-truncated meta-analysis may not
fit adequately. Here, the fit is a bit questionable because the points
toward the right-hand side of the plot do not adhere very closely to the
line.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/phacking/man/rtma_qqplot.html" class="external-link">rtma_qqplot</a></span><span class="op">(</span><span class="va">phacking_meat</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/rtma_qqplot-1.png" width="288"></p>
<p>As another diagnostic plot, we can examine the Z-scores of all
published point estimates. When <em>p</em>-hacking favors affirmative
estimates over nonaffirmative estimates, as our methods and others
assume, Z-scores may disproportionately concentrate just above the
critical value (e.g., 1.96). Importantly, the presence of
<em>p</em>-hacking does not <em>guarantee</em> a concentration of
Z-scores just above the critical value, so it is prudent to proceed with
the fitting RTMA even if no such concentration is apparent. In contrast,
if Z-scores also concentrate just <em>below</em> the critical value, or
if they also concentrate below the sign-reversed critical value (e.g.,
–1.96), this could indicate forms of <em>p</em>-hacking that violate the
assumptions of RTMA. This plot does not suggest a concentration of
Z-scores just below 1.96.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/phacking/man/z_density.html" class="external-link">z_density</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>, vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/z_density-1.png" width="576"></p>
</div>
</div>
<div class="section level2">
<h2 id="multiple-biases">Multiple biases<a class="anchor" aria-label="anchor" href="#multiple-biases"></a>
</h2>
<p>In addition to publication bias and/or <em>p</em>-hacking,
meta-analyses can be compromised by internal biases (e.g., confounding
in nonrandomized studies) as well as publication bias. These biases
often operate nonadditively: publication bias that favors significant,
positive results selects indirectly for studies with more internal bias.
These sensitivity analyses address two questions: (1) “For a given
severity of internal bias across studies and of publication bias, how
much could the results change?”; and (2) “For a given severity of
publication bias, how severe would internal bias have to be,
hypothetically, to attenuate the results to the null or by a given
amount?” These methods consider the average internal bias across
studies, obviating specifying the bias in each study individually. The
analyst can assume that internal bias affects all studies, or
alternatively a known subset (e.g., nonrandomized studies). The internal
bias can be of unknown origin or, for certain types of bias in causal
estimates, can be bounded analytically. The analyst can specify the
severity of publication bias or, alternatively, consider “worst-case”
publication bias as described above.</p>
<p>These sensitivity analyses involve specifying the selection ratio for
publication bias, the mean additive internal bias among published,
internally biased studies that are affirmative
(<code>bias_affirmative</code>) and that are nonaffirmative
(<code>bias_nonaffirmative</code>). respectively. Further guidance on
choosing these sensitivity parameters is given in <a href="https://osf.io/u7vcb/" class="external-link">Mathur (2022)</a>.</p>
<div class="section level3">
<h3 id="correction-for-internal-bias-andor-publication-bias">Correction for internal bias and/or publication bias<a class="anchor" aria-label="anchor" href="#correction-for-internal-bias-andor-publication-bias"></a>
</h3>
<p>If we assume that no studies are internally biased
(<code>bias_affirmative = 0</code>,
<code>bias_nonaffirmative = 0</code>) but that there is publication bias
(e.g., <code>selection ratio = 4</code>), then the results will match
those of <code>pubbias_meta</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_meat_0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multibias_meta.html">multibias_meta</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                               bias_affirmative <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                               bias_nonaffirmative <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">multi_meat_0</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt;       model  estimate         se   ci_lower  ci_upper      p_value</span></span>
<span><span class="co">#&gt; 1 multibias 0.1293691 0.02103083 0.08711307 0.1716251 1.335523e-07</span></span></code></pre></div>
<p>These results indicate that if affirmative studies were 4 times more
likely to be published than nonaffirmative studies and studies did not
have internal bias, the corrected meta-analytic point estimate would be
0.13 (95% CI [0.09, 0.17]).</p>
<p>Following <a href="https://osf.io/u7vcb/" class="external-link">Mathur (2022)</a>, we now
consider publication bias in which affirmative studies are 4 times more
likely to be published, and also in which the nonrandomized studies are,
on average, biased due to confounding. For more details on specifying
the values of the latter sensitivity parameters, see <a href="https://osf.io/u7vcb/" class="external-link">Mathur (2022)</a>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_meat_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multibias_meta.html">multibias_meta</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               biased <span class="op">=</span> <span class="op">!</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">randomized</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                               bias_affirmative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>,</span>
<span>                               bias_nonaffirmative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">multi_meat_1</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt;       model   estimate         se   ci_lower  ci_upper      p_value</span></span>
<span><span class="co">#&gt; 1 multibias 0.09491905 0.02405073 0.04662505 0.1432131 0.0002453537</span></span></code></pre></div>
<p>These results indicate that if (1) affirmative studies were 4 times
more likely to be published than nonaffirmative studies; (2)
affirmative, nonrandomized studies had a mean internal bias of
<code>log(1.5)</code>; (3) nonaffirmative, nonrandomized studies had a
mean internal bias of <code>log(1.1)</code>, and (4) randomized studies
had no internal bias, the corrected meta-analytic point estimate would
be 0.13 (95% CI [0.09, 0.17]).</p>
<p>We can repeat the sensitivity analysis, now treating all studies as
internally biased (not just nonrandomized studies).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_meat_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multibias_meta.html">multibias_meta</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                               vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                               biased <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                               selection_ratio <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                               bias_affirmative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>,</span>
<span>                               bias_nonaffirmative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">multi_meat_1</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt;       model   estimate         se    ci_lower  ci_upper   p_value</span></span>
<span><span class="co">#&gt; 1 multibias 0.01020086 0.02103083 -0.03205518 0.0524569 0.6297933</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="bias-required-to-explain-away-the-results">Bias required to explain away the results<a class="anchor" aria-label="anchor" href="#bias-required-to-explain-away-the-results"></a>
</h3>
<p>We can also calculate, for a given severity of publication bias, how
severe the average internal bias across studies would have to be,
hypothetically, to attenuate the results to the null or by a given
amount. For a selection ratio of 4 and assuming that only nonrandomized
studies have internal bias:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">evalue_meat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multibias_evalue.html">multibias_evalue</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                                vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                                biased <span class="op">=</span> <span class="op">!</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">randomized</span>,</span>
<span>                                selection_ratio <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">evalue_meat</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   bias_est bias_ci</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    0.539   0.270</span></span></code></pre></div>
<p>These results indicate that if affirmative studies are 4 more likely
to get published than nonaffirmative studies, for the point estimate
corrected for internal bias to shift to 0, non-randomized studies would
need to have an average internal bias of 0.54. For the CI bound
corrected for internal bias to shift to 0, non-randomized studies would
need to have an average internal bias of 0.27.</p>
<p>Now we consider shifting the point estimate and CI bound to <em>q =
0.1</em> rather than to the null.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">evalue_meat_01</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multibias_evalue.html">multibias_evalue</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                                   vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                                   biased <span class="op">=</span> <span class="op">!</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">randomized</span>,</span>
<span>                                   selection_ratio <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                                   q <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="va">evalue_meat_01</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   bias_est   bias_ci</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    0.107 0.000<span style="text-decoration: underline;">073</span>7</span></span></code></pre></div>
<p>So far, we have worked with sensitivity parameters,
<code>bias_affirmative</code> and <code>bias_nonaffirmative</code>, that
simply summarize the additive internal bias across studies without
making assumptions on its source. However, for certain types of bias in
estimates of a causal parameter (e.g., a treatment effect), the bias can
be reparameterized to more directly describe structural associations
that involve latent variables, such as uncontrolled confounders, that
are responsible for the bias. These reparameterizations apply if
studies’ unadjusted estimates are on the log risk ratio scale or have
been approximately transformed to this scale via the usual approaches in
meta-analysis. Then, the sensitivity parameters regarding the bias on
the risk ratio (<em>RR</em>) scale can be expressed in terms of
structural associations involving latent variables. See <a href="https://osf.io/u7vcb/" class="external-link">Mathur (2022)</a> for more details.</p>
<p>For example, for uncontrolled confounding, the bias on the
<em>RR</em> scale can be expressed in terms of the minimum strength of
confounding associations that would need to be present on average across
studies in order to produce the amount of bias indicated by
<code>bias_est</code> and <code>bias_ci</code>. For a given study, the
two relevant confounding associations are defined as: (1) the
<em>RR</em> by which uncontrolled confounder(s) are associated with the
exposure; and (2) the <em>RR</em> by which uncontrolled confounder(s)
are associated with the outcome. Both confounding associations are
conditional on any controlled covariates.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">evalue_meat_conf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multibias_evalue.html">multibias_evalue</a></span><span class="op">(</span>yi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">yi</span>,</span>
<span>                                     vi <span class="op">=</span> <span class="va">meta_meat</span><span class="op">$</span><span class="va">vi</span>,</span>
<span>                                     biased <span class="op">=</span> <span class="op">!</span><span class="va">meta_meat</span><span class="op">$</span><span class="va">randomized</span>,</span>
<span>                                     selection_ratio <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                                     assumed_bias_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">EValue</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/EValue/man/confounding.html" class="external-link">confounding</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">evalue_meat_conf</span><span class="op">$</span><span class="va">stats</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">#&gt;   bias_est bias_ci evalue_est evalue_ci</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    0.539   0.270       2.82      1.95</span></span></code></pre></div>
<p>These results indicate that if affirmative studies as 4 more likely
to get published than nonaffirmative studies, for the point estimate
corrected for internal bias to shift to 0, non-randomized studies would
need to have confounding associations of 2.82. For the CI bound
corrected for internal bias to shift to 0.10, non-randomized studies
would need to have confounding associations of 1.95. For more on the
interpretation of these parameters, see <a href="https://osf.io/u7vcb/" class="external-link">Mathur (2022)</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mika Braginsky, Maya Mathur.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
